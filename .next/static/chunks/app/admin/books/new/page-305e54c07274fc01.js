(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13,803],{8823:function(e,t,r){Promise.resolve().then(r.bind(r,51))},51:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return a}});var o=r(3827),s=r(4090),n=r(7907);function a(e){let{book:t}=e,r=(0,n.useRouter)(),[a,l]=(0,s.useState)(!1),[i,c]=(0,s.useState)({title:(null==t?void 0:t.title)||"",author:(null==t?void 0:t.author)||"",category:(null==t?void 0:t.category)||"NOVELA",isbn:(null==t?void 0:t.isbn)||"",score:(null==t?void 0:t.score)||0,coverUrl:(null==t?void 0:t.coverUrl)||""}),d=async e=>{e.preventDefault(),l(!0);try{let e=t?"/api/books/".concat(t.id):"/api/books";(await fetch(e,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok&&(r.push("/admin/books"),r.refresh())}catch(e){console.error("Error saving book:",e)}l(!1)};return(0,o.jsxs)("form",{onSubmit:d,className:"space-y-6",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"T\xedtulo"}),(0,o.jsx)("input",{type:"text",value:i.title,onChange:e=>c({...i,title:e.target.value}),className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Autor"}),(0,o.jsx)("input",{type:"text",value:i.author,onChange:e=>c({...i,author:e.target.value}),className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none",required:!0})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Categor\xeda"}),(0,o.jsxs)("select",{value:i.category,onChange:e=>c({...i,category:e.target.value}),className:"w-full bg-background border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none",children:[(0,o.jsx)("option",{value:"NOVELA",children:"Novela"}),(0,o.jsx)("option",{value:"POES\xcdA",children:"Poes\xeda"}),(0,o.jsx)("option",{value:"ENSAYO",children:"Ensayo"}),(0,o.jsx)("option",{value:"CR\xd3NICA",children:"Cr\xf3nica"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"ISBN"}),(0,o.jsx)("input",{type:"text",value:i.isbn,onChange:e=>c({...i,isbn:e.target.value}),className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none font-mono text-sm",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Score (0-100)"}),(0,o.jsx)("input",{type:"number",min:0,max:100,value:i.score,onChange:e=>c({...i,score:parseInt(e.target.value)||0}),className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none"})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Cover URL"}),(0,o.jsx)("input",{type:"text",value:i.coverUrl,onChange:e=>c({...i,coverUrl:e.target.value}),className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none",placeholder:"https://..."})]}),(0,o.jsxs)("div",{className:"flex gap-4 pt-6 border-t border-white/10",children:[(0,o.jsx)("button",{type:"submit",disabled:a,className:"bg-brand text-white px-8 py-3 font-bold uppercase tracking-widest text-sm hover:bg-red-700 transition-colors disabled:opacity-50",children:a?"Guardando...":t?"Actualizar":"Crear"}),(0,o.jsx)("button",{type:"button",onClick:()=>r.back(),className:"border border-white/20 px-8 py-3 font-bold uppercase tracking-widest text-sm hover:bg-white/10 transition-colors",children:"Cancelar"})]})]})}},7907:function(e,t,r){"use strict";var o=r(5313);r.o(o,"usePathname")&&r.d(t,{usePathname:function(){return o.usePathname}}),r.o(o,"useRouter")&&r.d(t,{useRouter:function(){return o.useRouter}})}},function(e){e.O(0,[971,69,744],function(){return e(e.s=8823)}),_N_E=e.O()}]);