(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[629],{9657:function(e,t,r){Promise.resolve().then(r.bind(r,5668))},5668:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var s=r(3827),a=r(4090),n=r(7907);function o(e){let{post:t}=e,r=(0,n.useRouter)(),[o,i]=(0,a.useState)(!1),[l,c]=(0,a.useState)(""),[d,u]=(0,a.useState)({title:(null==t?void 0:t.title)||"",content:(null==t?void 0:t.content)||"",excerpt:(null==t?void 0:t.excerpt)||"",status:(null==t?void 0:t.status)||"draft"}),b=async e=>{e.preventDefault(),i(!0),c("");try{let e=t?"/api/admin/posts/".concat(t.id):"/api/admin/posts";if(!(await fetch(e,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)})).ok)throw Error("Failed to save");r.push("/admin/posts"),r.refresh()}catch(e){c("Error al guardar. Verifica la configuraci\xf3n de WordPress."),console.error(e)}finally{i(!1)}};return(0,s.jsxs)("form",{onSubmit:b,className:"space-y-6",children:[l&&(0,s.jsx)("div",{className:"bg-red-500/10 border border-red-500 text-red-500 px-4 py-3 text-sm",children:l}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"title",className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"T\xedtulo"}),(0,s.jsx)("input",{id:"title",type:"text",value:d.title,onChange:e=>u({...d,title:e.target.value}),className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"excerpt",className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Extracto"}),(0,s.jsx)("textarea",{id:"excerpt",value:d.excerpt,onChange:e=>u({...d,excerpt:e.target.value}),rows:2,className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none resize-none"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"content",className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Contenido (HTML)"}),(0,s.jsx)("textarea",{id:"content",value:d.content,onChange:e=>u({...d,content:e.target.value}),rows:12,className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none resize-none font-mono text-sm",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"status",className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Estado"}),(0,s.jsxs)("select",{id:"status",value:d.status,onChange:e=>u({...d,status:e.target.value}),className:"w-full bg-background border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none",children:[(0,s.jsx)("option",{value:"draft",children:"Borrador"}),(0,s.jsx)("option",{value:"publish",children:"Publicado"})]})]}),(0,s.jsxs)("div",{className:"flex gap-4 pt-6 border-t border-white/10",children:[(0,s.jsx)("button",{type:"submit",disabled:o,className:"bg-brand text-white px-8 py-3 font-bold uppercase tracking-widest text-sm hover:bg-red-700 transition-colors disabled:opacity-50",children:o?"Guardando...":t?"Actualizar":"Crear"}),(0,s.jsx)("button",{type:"button",onClick:()=>r.back(),className:"border border-white/20 px-8 py-3 font-bold uppercase tracking-widest text-sm hover:bg-white/10 transition-colors",children:"Cancelar"})]})]})}},7907:function(e,t,r){"use strict";var s=r(5313);r.o(s,"useParams")&&r.d(t,{useParams:function(){return s.useParams}}),r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}})}},function(e){e.O(0,[971,69,744],function(){return e(e.s=9657)}),_N_E=e.O()}]);