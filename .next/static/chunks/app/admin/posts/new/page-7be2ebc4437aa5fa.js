(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[629,929],{9657:function(e,t,s){Promise.resolve().then(s.bind(s,5668))},5668:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return l}});var r=s(3827),n=s(4090),a=s(7907);function l(e){let{post:t}=e,s=(0,a.useRouter)(),[l,o]=(0,n.useState)(!1),[i,c]=(0,n.useState)({title:(null==t?void 0:t.title)||"",slug:(null==t?void 0:t.slug)||"",excerpt:(null==t?void 0:t.excerpt)||"",content:(null==t?void 0:t.content)||"",type:(null==t?void 0:t.type)||"STANDARD",image:(null==t?void 0:t.image)||"",published:(null==t?void 0:t.published)||!1}),d=e=>e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""),u=async e=>{e.preventDefault(),o(!0);try{let e=t?"/api/posts/".concat(t.id):"/api/posts";(await fetch(e,{method:t?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok&&(s.push("/admin/posts"),s.refresh())}catch(e){console.error("Error saving post:",e)}o(!1)};return(0,r.jsxs)("form",{onSubmit:u,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"T\xedtulo"}),(0,r.jsx)("input",{type:"text",value:i.title,onChange:e=>{let s=e.target.value;c({...i,title:s,slug:t?i.slug:d(s)})},className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Slug"}),(0,r.jsx)("input",{type:"text",value:i.slug,onChange:e=>c({...i,slug:e.target.value}),className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none font-mono text-sm",required:!0})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Extracto"}),(0,r.jsx)("textarea",{value:i.excerpt,onChange:e=>c({...i,excerpt:e.target.value}),rows:2,className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none resize-none",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Contenido (HTML)"}),(0,r.jsx)("textarea",{value:i.content,onChange:e=>c({...i,content:e.target.value}),rows:10,className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none resize-none font-mono text-sm",required:!0})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Tipo"}),(0,r.jsxs)("select",{value:i.type,onChange:e=>c({...i,type:e.target.value}),className:"w-full bg-background border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none",children:[(0,r.jsx)("option",{value:"STANDARD",children:"Standard"}),(0,r.jsx)("option",{value:"FEATURED",children:"Featured"}),(0,r.jsx)("option",{value:"EDITORIAL",children:"Editorial"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs font-bold uppercase tracking-widest text-white/60 mb-2",children:"Imagen URL"}),(0,r.jsx)("input",{type:"text",value:i.image,onChange:e=>c({...i,image:e.target.value}),className:"w-full bg-transparent border border-white/20 px-4 py-3 text-white focus:border-brand focus:outline-none",placeholder:"https://..."})]}),(0,r.jsx)("div",{className:"flex items-end",children:(0,r.jsxs)("label",{className:"flex items-center gap-3 cursor-pointer",children:[(0,r.jsx)("input",{type:"checkbox",checked:i.published,onChange:e=>c({...i,published:e.target.checked}),className:"w-5 h-5 accent-brand"}),(0,r.jsx)("span",{className:"text-sm font-bold uppercase tracking-widest",children:"Publicado"})]})})]}),(0,r.jsxs)("div",{className:"flex gap-4 pt-6 border-t border-white/10",children:[(0,r.jsx)("button",{type:"submit",disabled:l,className:"bg-brand text-white px-8 py-3 font-bold uppercase tracking-widest text-sm hover:bg-red-700 transition-colors disabled:opacity-50",children:l?"Guardando...":t?"Actualizar":"Crear"}),(0,r.jsx)("button",{type:"button",onClick:()=>s.back(),className:"border border-white/20 px-8 py-3 font-bold uppercase tracking-widest text-sm hover:bg-white/10 transition-colors",children:"Cancelar"})]})]})}},7907:function(e,t,s){"use strict";var r=s(5313);s.o(r,"usePathname")&&s.d(t,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}})}},function(e){e.O(0,[971,69,744],function(){return e(e.s=9657)}),_N_E=e.O()}]);